<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <!-- Bootstrap CSS for styling and alerts -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <!-- Flash message section -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div id="flash-messages" class="position-fixed top-0 end-0 p-3" style="z-index: 9999;">
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                        {{ message }}
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <header>
        <h1>Welcome to the Dashboard</h1>
    </header>
    
    <nav>
        <ul>
            <li><a href="">Home</a></li>
            <li><a href="">Profile</a></li>
            <li><a href="">Settings</a></li>
            <a href="{{ url_for('announcement.view_all_announcements') }}">View All Announcements</a>
            <a href="{{ url_for('admin.view_all_progress') }}">View all user progress</a>
            <a href="{{ url_for('admin.view_users') }}">View All Users</a>
            <a href="{{ url_for('admin.manage_course') }}">Manage Courses</a>
            <a href="{{ url_for('upload.view_files') }}">View All files</a>
            <li><a href="{{ url_for('auth.logout') }}">Logout</a></li>
        </ul>
    </nav>
    
    <main>
        <section>
            <h2>Overview</h2>
            <p>This is the overview section of the dashboard.</p>
        </section>
        <section>
            <h2>Statistics</h2>
            <p>This is the statistics section of the dashboard.</p>
        </section>
        <section>
            <h2>Recent Activity</h2>
            <p>This is the recent activity section of the dashboard.</p>
        </section>
        <h2>All Users</h2>
        <ul>
            {% for user in users %}
                <li>
                    <strong>{{ user.name }}</strong> - <a href="{{ url_for('admin.user_progress', userid=user.userid) }}">View Progress</a>
                </li>
            {% endfor %}
        </ul>
    </main>
    
    <footer>
        <p>&copy; 2023 Your Company</p>
    </footer>

    <!-- Bootstrap JS for alerts and close button functionality -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Auto hide flash messages after 5 seconds
        setTimeout(function () {
            var flashMessages = document.getElementById('flash-messages');
            if (flashMessages) {
                flashMessages.style.display = 'none';
            }
        }, 5000); // 5000 milliseconds = 5 seconds
    </script>
</body>
</html>